/* ============================================
   Border Theme for Digital Garden
   with Custom Style Settings
   ============================================ */

/* Root variables */
:root {
    /* Custom accent color from your settings */
    --accent-h: 268;  /* Purple from #9551fb */
    --accent-s: 95%;
    --accent-l: 65%;
}

/* Light theme colors */
.theme-light,
body {
    color-scheme: light;
    
    /* Text colors */
    --text-normal: hsl(var(--accent-h), 6%, 12%);
    --text-muted: hsl(var(--accent-h), 9%, 36%);
    --text-faint: hsl(var(--accent-h), 12%, 64%);
    
    /* Base colors */
    --color-base-00: #ffffff;
    --color-base-05: #fcfcfc;
    --color-base-10: #fafafa;
    --color-base-15: #f7f7f7;
    --color-base-20: #f0f0f0;
    --color-base-25: #e3e3e3;
    --color-base-30: #e0e0e0;
    --color-base-35: #d4d4d4;
    --color-base-40: #bdbdbd;
    --color-base-50: #ababab;
    --color-base-60: #707070;
    --color-base-70: #5a5a5a;
    --color-base-100: #222222;
    
    /* Accent colors */
    --color-accent: hsl(var(--accent-h), var(--accent-s), var(--accent-l));
    --color-accent-1: hsl(calc(var(--accent-h) - 1), calc(var(--accent-s) * 1.01), calc(var(--accent-l) * 1.075));
    --color-accent-2: hsl(calc(var(--accent-h) - 3), calc(var(--accent-s) * 1.02), calc(var(--accent-l) * 1.15));
    --text-accent: var(--color-accent-1);
    --text-accent-hover: var(--color-accent-2);
    
    /* Backgrounds */
    --background-primary: var(--color-base-00);
    --background-primary-alt: var(--color-base-10);
    --background-secondary: hsl(var(--accent-h), calc((var(--accent-s)) / 6), calc(100% - (100% - var(--accent-l)) / 16));
    --background-secondary-alt: var(--color-base-05);
    
    /* Borders and modifiers */
    --background-modifier-border: hsla(var(--accent-h), calc(0.4*var(--accent-s)), calc(var(--accent-l)), 0.2);
    --background-modifier-border-hover: hsla(var(--accent-h), calc(0.4*var(--accent-s)), calc(var(--accent-l)), 0.25);
    --background-modifier-hover: hsla(var(--accent-h), 6%, 64%, 0.15);
    
    /* Highlights */
    --text-highlight-bg: rgba(255, 208, 0, 0.4);
    --text-selection: rgba(136, 192, 252, 0.3);
    
    /* Interactive colors */
    --interactive-accent: var(--color-accent);
    --interactive-accent-hover: var(--color-accent-2);
    --interactive-normal: var(--color-base-10);
    --interactive-hover: var(--color-base-20);
}

/* Dark theme colors */
@media (prefers-color-scheme: dark) {
    :root {
        --accent-s: 40%;
        --accent-l: 60%;
    }
    
    .theme-dark,
    body {
        color-scheme: dark;
        
        /* Text colors */
        --text-normal: hsl(var(--accent-h), 15%, 85%);
        --text-muted: hsl(var(--accent-h), 12%, 75%);
        --text-faint: hsl(var(--accent-h), 9%, 50%);
        
        /* Base colors */
        --color-base-00: #1e1e1e;
        --color-base-10: #242424;
        --color-base-15: #252525;
        --color-base-20: #262626;
        --color-base-25: #2a2a2a;
        --color-base-30: #363636;
        --color-base-35: #3f3f3f;
        --color-base-40: #555;
        --color-base-50: #666;
        --color-base-60: #999;
        --color-base-70: #bababa;
        --color-base-100: #dadada;
        
        /* Backgrounds */
        --background-primary: hsl(var(--accent-h), calc(var(--accent-s) / 5), calc(1.25*var(--accent-l) / 4.5));
        --background-primary-alt: hsl(var(--accent-h), calc(var(--accent-s) / 5), calc(1.25*var(--accent-l) / 3.9));
        --background-secondary: hsl(var(--accent-h), calc(var(--accent-s) / 5), calc(1.25*var(--accent-l) / 4.9));
        --background-secondary-alt: hsl(var(--accent-h), calc(var(--accent-s) / 5.4), calc(1.25*var(--accent-l) / 3));
        
        /* Borders and modifiers */
        --background-modifier-border: hsla(var(--accent-h), calc(0.4*var(--accent-s)), calc(0.9*var(--accent-l)), 0.2);
        --background-modifier-hover: hsla(var(--accent-h), 12%, 40%, 0.25);
    }
}

/* Style Settings from your configuration */

/* Dark theme - darker background */
body.theme-dark-background-darker {
    --background-primary: #0d0d0d;
    --background-primary-alt: #000000;
    --background-secondary: #171717;
    --background-secondary-alt: #1a1a1a;
}

/* Card layout for dark theme */
body.card-layout-open-dark {
    --file-margins: 16px;
}

body.card-layout-open-dark .markdown-preview-view {
    padding: 20px 30px;
    background: var(--background-primary);
    border-radius: 10px;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
}

/* Transparent sidebars */
body.mod-left-split-background-transparent-dark .mod-left-split,
body.mod-right-split-background-transparent-dark .mod-right-split {
    background: transparent;
}

/* Custom root split background */
body.mod-root-split-background-CSS-dark {
    --background-modifier-cover: rgba(0, 0, 0, 0.25);
}

/* Tab style for active file */
body.activated-file-tab-style-dark .nav-file-title.is-active {
    background: var(--interactive-accent);
    color: white;
    border-radius: 6px;
}

/* Style Settings Components */

/* CTA Button */
body.CTA-BTN-enable .nav-action-button[aria-label="New note"] {
    background: var(--interactive-accent);
    color: white;
    padding: 8px 16px;
    border-radius: 8px;
    font-weight: 600;
}

/* Bold folder names */
body.folder-font-bold .nav-folder-title {
    font-weight: 600;
}

/* Colorful folders */
body.colorful-folder .nav-folder-title-content::before {
    content: "üìÅ ";
}

/* Border theme specific styles */
body {
    --radius-s: 6px;
    --radius-m: 10px;
    --radius-l: 14px;
    --border-width: 1px;
}

/* General styling */
.content {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif;
    color: var(--text-normal);
    line-height: 1.6;
}

/* Headers */
h1, h2, h3, h4, h5, h6 {
    color: var(--text-normal);
    font-weight: 600;
    margin-top: 1em;
    margin-bottom: 0.5em;
}

h1 {
    font-size: 2.2em;
    border-bottom: 2px solid var(--background-modifier-border);
    padding-bottom: 0.3em;
}

h2 {
    font-size: 1.8em;
    border-bottom: 1px solid var(--background-modifier-border);
    padding-bottom: 0.2em;
}

/* Links */
a {
    color: var(--text-accent);
    text-decoration: none;
    transition: color 0.2s ease;
}

a:hover {
    color: var(--text-accent-hover);
    text-decoration: underline;
}

/* Code blocks */
pre {
    background: var(--background-secondary);
    border: 1px solid var(--background-modifier-border);
    border-radius: var(--radius-s);
    padding: 1em;
    overflow-x: auto;
}

code {
    background: var(--background-secondary);
    padding: 0.2em 0.4em;
    border-radius: 4px;
    font-size: 0.9em;
    color: var(--text-muted);
}

pre code {
    background: none;
    padding: 0;
}

/* Blockquotes */
blockquote {
    border-left: 4px solid var(--text-accent);
    background: var(--background-secondary);
    margin: 1em 0;
    padding: 1em;
    border-radius: var(--radius-s);
}

/* Tables */
table {
    border-collapse: collapse;
    width: 100%;
    margin: 1em 0;
}

th, td {
    border: 1px solid var(--background-modifier-border);
    padding: 0.6em;
    text-align: left;
}

th {
    background: var(--background-secondary);
    font-weight: 600;
}

tr:nth-child(even) {
    background: var(--background-primary-alt);
}

/* Lists */
ul, ol {
    margin: 0.5em 0;
    padding-left: 2em;
}

li {
    margin: 0.25em 0;
}

/* Checkboxes */
input[type="checkbox"] {
    margin-right: 0.5em;
    border-radius: 3px;
}

/* Tags */
.tag {
    background: var(--background-secondary);
    color: var(--text-muted);
    padding: 0.2em 0.6em;
    border-radius: 15px;
    font-size: 0.9em;
    display: inline-block;
    margin: 0.2em;
}

/* Digital Garden specific elements */
.navbar {
    background: var(--background-secondary);
    border-bottom: 1px solid var(--background-modifier-border);
    backdrop-filter: blur(10px);
}

.sidebar {
    background: var(--background-secondary-alt);
    border-right: 1px solid var(--background-modifier-border);
}

.filetree-sidebar {
    padding: 1em;
    background: var(--background-primary-alt);
    border-radius: var(--radius-m);
    margin: 1em;
}

.search-container input {
    background: var(--background-primary);
    border: 1px solid var(--background-modifier-border);
    border-radius: var(--radius-s);
    padding: 0.5em 1em;
    color: var(--text-normal);
    transition: border-color 0.2s ease;
}

.search-container input:focus {
    border-color: var(--text-accent);
    outline: none;
}

/* Graph view */
.graph-view {
    background: var(--background-primary);
}

/* Buttons */
button, .button {
    background: var(--interactive-accent);
    color: white;
    border: none;
    border-radius: var(--radius-s);
    padding: 0.5em 1em;
    cursor: pointer;
    transition: all 0.2s ease;
    font-weight: 500;
}

button:hover, .button:hover {
    background: var(--interactive-accent-hover);
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(149, 81, 251, 0.3);
}

/* Scrollbars */
::-webkit-scrollbar {
    width: 10px;
    height: 10px;
}

::-webkit-scrollbar-track {
    background: var(--background-primary);
}

::-webkit-scrollbar-thumb {
    background: var(--background-modifier-border);
    border-radius: 5px;
}

::-webkit-scrollbar-thumb:hover {
    background: var(--background-modifier-border-hover);
}